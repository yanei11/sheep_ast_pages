<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-sheep_ast">sheep_ast</h1>

<p>sheep_ast is a toolkit made by ruby for those who wants to use Ast(abstract syntax tree) to some analysis. It can be used for parsing, code generating, analysis etc. sheep_ast aims to provide easily customizable user interface for using Ast.</p>

<h1 id="label-Introduction">Introduction</h1>

<p>Using sheep_ast, user can do pattern matching and extract data very easy like following:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># typed: false
</span><span class='comment'># frozen_string_literal: true
</span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sheep_ast</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_core'>core</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="SheepAst.html" title="SheepAst (module)">SheepAst</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="SheepAst/AnalyzerCore.html" title="SheepAst::AnalyzerCore (class)">AnalyzerCore</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="SheepAst/AnalyzerCore.html#initialize-instance_method" title="SheepAst::AnalyzerCore#initialize (method)">new</a></span></span>

<span class='id identifier rubyid_core'>core</span><span class='period'>.</span><span class='id identifier rubyid_config_tok'>config_tok</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tok'>tok</span><span class='op'>|</span>
  <span class='id identifier rubyid_tok'>tok</span><span class='period'>.</span><span class='id identifier rubyid_use_split_rule'>use_split_rule</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_tok'>tok</span><span class='period'>.</span><span class='id identifier rubyid_split_space_only'>split_space_only</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_core'>core</span><span class='period'>.</span><span class='id identifier rubyid_config_ast'>config_ast</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default.main</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__ast'>_ast</span><span class='comma'>,</span> <span class='id identifier rubyid_syn'>syn</span><span class='op'>|</span>
  <span class='id identifier rubyid_syn'>syn</span><span class='period'>.</span><span class='id identifier rubyid_within'>within</span> <span class='lbrace'>{</span>
    <span class='id identifier rubyid_register_syntax'>register_syntax</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>analyze</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span>
      <span class='const'>SS</span><span class='lparen'>(</span>
        <span class='const'>S</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='const'>E</span><span class='lparen'>(</span><span class='symbol'>:e</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='const'>E</span><span class='lparen'>(</span><span class='symbol'>:any</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='const'>E</span><span class='lparen'>(</span><span class='symbol'>:e</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>World</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span>
               <span class='const'>A</span><span class='lparen'>(</span><span class='symbol'>:let</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='symbol'>:record</span><span class='comma'>,</span> <span class='symbol'>:test_H</span><span class='comma'>,</span> <span class='symbol'>:_1</span><span class='comma'>,</span> <span class='symbol'>:_2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_input'>input</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello sheep_ast World</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_core'>core</span><span class='period'>.</span><span class='id identifier rubyid_report'>report</span><span class='lparen'>(</span><span class='label'>raise:</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
  <span class='id identifier rubyid_core'>core</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_input'>input</span>
<span class='rbrace'>}</span>

<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Input string is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Extracted result is following:</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_core'>core</span><span class='period'>.</span><span class='id identifier rubyid_data_store'>data_store</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='lparen'>(</span><span class='symbol'>:test_H</span><span class='rparen'>)</span>

<span class='id identifier rubyid_exit'>exit</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
</code></pre>

<p>And the result will be</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Input</span> <span class='id identifier rubyid_string'>string</span> <span class='id identifier rubyid_is'>is</span> <span class='const'>Hello</span> <span class='id identifier rubyid_sheep_ast'>sheep_ast</span> <span class='const'>World</span>
<span class='const'>Extracted</span> <span class='id identifier rubyid_result'>result</span> <span class='id identifier rubyid_is'>is</span> <span class='label'>following:</span>
<span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sheep_ast</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
</code></pre>

<p>So, from the <code>Hello sheep_ast World</code> string, we can extract <code>Hello</code> and <code>sheep_ast</code>.</p>

<h1 id="label-Feature">Feature</h1>

<p>sheep_ast supports following features.<br> The framework desin, and pipeline for the input data is written in the doc <a href="https://yanei11.github.io/sheep_ast_pages/file.Framework.html">here</a>.</p>
<ul><li>
<p>Tokenize<br>  sheep_ast has customizable tokenizer. It can split sentence to a string and also it can combine it to another set of string (token).</p>
</li><li>
<p>Parsing<br>  sheep_ast has stages. The each stage can assign Ast. Parsing by multiple stage is possible like, ignoring pattern by 1st Ast, and extract pattern by 2nd Ast and so on. sheep_ast has function to handle namespace.</p>
</li><li>
<p>Action<br>  At the end of Ast, some action can be assigned. e.g. to store Ast result to some symbol, to compile Ast result to another file, etc. User can define customized methods to the Action class <code>Let</code>.</p>
</li></ul>

<p>As well as above basic Tokenize - Parse - Action function, sheep_ast has following functions for further parsing and code genarating.</p>
<ul><li>
<p>Compile<br>  Using sheep_ast and erb, user can generate file from the extracted keywords.  Please see <a href="https://yanei11.github.io/sheep_ast_pages/file.Example3.html">Example3</a>.</p>
</li><li>
<p>Recursive estimate<br>  sheep_ast supports recursive estimation of matched strings by let_redirect module.<br>  So, user can have more well readable, easy to use the Ast.  Please see <a href="https://yanei11.github.io/sheep_ast_pages/file.Example2.html">Example2</a> and <a href="https://yanei11.github.io/sheep_ast_pages/file.Example3.html">Example3</a>.</p>
</li><li>
<p>Including another file<br>  Using let_include module, sheep_ast can analyze another file.<br>  The example is <code>#include &quot;xxx.hh&quot;</code> for cpp language, sheep_ast searh xxx.hh from given paths when it is included.</p>
</li></ul>

<h1 id="label-Getting+Started">Getting Started</h1>

<p>Please see following Examples at Resources section below for the documentation.</p>

<p>To try sheep_ast, Please see the <a href="https://github.com/yanei11/sheep_ast/blob/master/INSTALL.md">INSTALL.md</a> for the installation.<br> sheep_ast supports <a href="https://appimage.org/">AppImage</a> format as All in one package. You can download it and execute it for just using sheep_ast without installing ruby environment.<br> (The AppImage contains ruby and just executing <a href="https://github.com/yanei11/sheep_ast/blob/master/bin/run-sheep-ast">bin/run-sheep-ast</a> file)</p>

<p>For the executable, please see help by executing with <code>-h</code> option or example command by <code>rake bin</code> command. Basically the difference from using as library is that, AST definition must be done by <code>configure(core)</code> function and read it by <code>-r</code> option. Direct example is shown at <a href="https://yanei11.github.io/sheep_ast_pages/file.Example4.html">Example4</a></p>

<p>For further examples, you can try to clone this repository and <code>rake unit</code>, <code>rake bin</code> command may help you to try and see basic example.<br> But this commands require to install ruby environement.</p>

<h1 id="label-Resources">Resources</h1>
<ul><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.Example1.html">Example1 : grep like application</a></p>
</li><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.Example2.html">Example2 : Keyword extraction from cpp file</a></p>
</li><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.Example3.html">Example3 : generate file (compile) from proto file</a></p>
</li><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.Example4.html">Example4 : multiple condition matching, and multiple redirection</a></p>
</li><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.API.html">API document</a></p>
</li><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.Framework.html">Framework Design</a></p>
</li><li>
<p><a href="https://yanei11.github.io/sheep_ast_pages/file.CHANGELOG.html">Change Log</a></p>
</li></ul>

<h1 id="label-Version">Version</h1>

<p>ruby &gt; 3.0.0 and ruby 2.7.2 are used for development</p>
</div></div>

      <div id="footer">
  Generated on Wed Jul 14 07:22:00 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.1).
</div>

    </div>
  </body>
</html>