<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: SheepAst::Syntax
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "SheepAst::Syntax";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../SheepAst.html" title="SheepAst (module)">SheepAst</a></span></span>
     &raquo; 
    <span class="title">Syntax</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: SheepAst::Syntax
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="SheepObject.html" title="SheepAst::SheepObject (class)">SheepObject</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="SheepObject.html" title="SheepAst::SheepObject (class)">SheepObject</a></span></li>
          
            <li class="next">SheepAst::Syntax</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>T::Sig</dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Exception.html" title="SheepAst::Exception (module)">Exception</a></span>, <span class='object_link'><a href="Log.html" title="SheepAst::Log (module)">Log</a></span>, <span class='object_link'><a href="SyntaxAlias.html" title="SheepAst::SyntaxAlias (module)">SyntaxAlias</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>/home/r_yaginiwa/yang_try/sheep_ast/lib/sheep_ast/syntax/syntax.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Wrap Ast defining process from User input, and provides  better syntax to user</p>

<p>@api public</p>


  </div>
</div>
<div class="tags">
  

</div>





  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="SyntaxAlias.html" title="SheepAst::SyntaxAlias (module)">SyntaxAlias</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SyntaxAlias.html#s_db-instance_method" title="SheepAst::SyntaxAlias#s_db (method)">#s_db</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Log.html" title="SheepAst::Log (module)">Log</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Log.html#logger-instance_method" title="SheepAst::Log#logger (method)">#logger</a></span></p>

  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="SheepObject.html" title="SheepAst::SheepObject (class)">SheepObject</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SheepObject.html#domain-instance_method" title="SheepAst::SheepObject#domain (method)">#domain</a></span>, <span class='object_link'><a href="SheepObject.html#full_name-instance_method" title="SheepAst::SheepObject#full_name (method)">#full_name</a></span>, <span class='object_link'><a href="SheepObject.html#my_factory-instance_method" title="SheepAst::SheepObject#my_factory (method)">#my_factory</a></span>, <span class='object_link'><a href="SheepObject.html#my_id-instance_method" title="SheepAst::SheepObject#my_id (method)">#my_id</a></span>, <span class='object_link'><a href="SheepObject.html#name-instance_method" title="SheepAst::SheepObject#name (method)">#name</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(ast, mfctry, afctry)  &#x21d2; void </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register_syntax-instance_method" title="#register_syntax (instance method)">#<strong>register_syntax</strong>(name_or_action = nil, action = nil, &amp;blk)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gives user to add Ast definition to handle analysis.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register_tree-instance_method" title="#register_tree (instance method)">#<strong>register_tree</strong>(*param, **option)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="SyntaxAlias.html" title="SheepAst::SyntaxAlias (module)">SyntaxAlias</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SyntaxAlias.html#A-instance_method" title="SheepAst::SyntaxAlias#A (method)">#A</a></span>, <span class='object_link'><a href="SyntaxAlias.html#E-instance_method" title="SheepAst::SyntaxAlias#E (method)">#E</a></span>, <span class='object_link'><a href="SyntaxAlias.html#H-instance_method" title="SheepAst::SyntaxAlias#H (method)">#H</a></span>, <span class='object_link'><a href="SyntaxAlias.html#LET-instance_method" title="SheepAst::SyntaxAlias#LET (method)">#LET</a></span>, <span class='object_link'><a href="SyntaxAlias.html#NEQ-instance_method" title="SheepAst::SyntaxAlias#NEQ (method)">#NEQ</a></span>, <span class='object_link'><a href="SyntaxAlias.html#S-instance_method" title="SheepAst::SyntaxAlias#S (method)">#S</a></span>, <span class='object_link'><a href="SyntaxAlias.html#SS-instance_method" title="SheepAst::SyntaxAlias#SS (method)">#SS</a></span>, <span class='object_link'><a href="SyntaxAlias.html#_S-instance_method" title="SheepAst::SyntaxAlias#_S (method)">#_S</a></span>, <span class='object_link'><a href="SyntaxAlias.html#_SS-instance_method" title="SheepAst::SyntaxAlias#_SS (method)">#_SS</a></span>, <span class='object_link'><a href="SyntaxAlias.html#any-instance_method" title="SheepAst::SyntaxAlias#any (method)">#any</a></span>, <span class='object_link'><a href="SyntaxAlias.html#cpp_comment-instance_method" title="SheepAst::SyntaxAlias#cpp_comment (method)">#cpp_comment</a></span>, <span class='object_link'><a href="SyntaxAlias.html#crlf-instance_method" title="SheepAst::SyntaxAlias#crlf (method)">#crlf</a></span>, <span class='object_link'><a href="SyntaxAlias.html#eoc-instance_method" title="SheepAst::SyntaxAlias#eoc (method)">#eoc</a></span>, <span class='object_link'><a href="SyntaxAlias.html#eocf-instance_method" title="SheepAst::SyntaxAlias#eocf (method)">#eocf</a></span>, <span class='object_link'><a href="SyntaxAlias.html#eof-instance_method" title="SheepAst::SyntaxAlias#eof (method)">#eof</a></span>, <span class='object_link'><a href="SyntaxAlias.html#eol-instance_method" title="SheepAst::SyntaxAlias#eol (method)">#eol</a></span>, <span class='object_link'><a href="SyntaxAlias.html#eolcf-instance_method" title="SheepAst::SyntaxAlias#eolcf (method)">#eolcf</a></span>, <span class='object_link'><a href="SyntaxAlias.html#idx-instance_method" title="SheepAst::SyntaxAlias#idx (method)">#idx</a></span>, <span class='object_link'><a href="SyntaxAlias.html#lf-instance_method" title="SheepAst::SyntaxAlias#lf (method)">#lf</a></span>, <span class='object_link'><a href="SyntaxAlias.html#space-instance_method" title="SheepAst::SyntaxAlias#space (method)">#space</a></span></p>

  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Log.html" title="SheepAst::Log (module)">Log</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Log.html#ldebug-instance_method" title="SheepAst::Log#ldebug (method)">#ldebug</a></span>, <span class='object_link'><a href="Log.html#ldebug2-instance_method" title="SheepAst::Log#ldebug2 (method)">#ldebug2</a></span>, <span class='object_link'><a href="Log.html#ldebug%3F-instance_method" title="SheepAst::Log#ldebug? (method)">#ldebug?</a></span>, <span class='object_link'><a href="Log.html#ldump-instance_method" title="SheepAst::Log#ldump (method)">#ldump</a></span>, <span class='object_link'><a href="Log.html#lerror-instance_method" title="SheepAst::Log#lerror (method)">#lerror</a></span>, <span class='object_link'><a href="Log.html#lfatal-instance_method" title="SheepAst::Log#lfatal (method)">#lfatal</a></span>, <span class='object_link'><a href="Log.html#linfo-instance_method" title="SheepAst::Log#linfo (method)">#linfo</a></span>, <span class='object_link'><a href="Log.html#lprint-instance_method" title="SheepAst::Log#lprint (method)">#lprint</a></span>, <span class='object_link'><a href="Log.html#lprint%3F-instance_method" title="SheepAst::Log#lprint? (method)">#lprint?</a></span>, <span class='object_link'><a href="Log.html#lwarn-instance_method" title="SheepAst::Log#lwarn (method)">#lwarn</a></span>, <span class='object_link'><a href="Log.html#once-instance_method" title="SheepAst::Log#once (method)">#once</a></span>, <span class='object_link'><a href="Log.html#pdebug-instance_method" title="SheepAst::Log#pdebug (method)">#pdebug</a></span>, <span class='object_link'><a href="Log.html#pfatal-instance_method" title="SheepAst::Log#pfatal (method)">#pfatal</a></span>, <span class='object_link'><a href="Log.html#pinfo-instance_method" title="SheepAst::Log#pinfo (method)">#pinfo</a></span>, <span class='object_link'><a href="Log.html#pwarn-instance_method" title="SheepAst::Log#pwarn (method)">#pwarn</a></span>, <span class='object_link'><a href="Log.html#set_logger-instance_method" title="SheepAst::Log#set_logger (method)">#set_logger</a></span></p>

  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Exception.html" title="SheepAst::Exception (module)">Exception</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Exception.html#application_error-instance_method" title="SheepAst::Exception#application_error (method)">#application_error</a></span>, <span class='object_link'><a href="Exception.html#expression_not_found-instance_method" title="SheepAst::Exception#expression_not_found (method)">#expression_not_found</a></span>, <span class='object_link'><a href="Exception.html#missing_impl-instance_method" title="SheepAst::Exception#missing_impl (method)">#missing_impl</a></span></p>

  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="SheepObject.html" title="SheepAst::SheepObject (class)">SheepObject</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SheepObject.html#within-instance_method" title="SheepAst::SheepObject#within (method)">#within</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(ast, mfctry, afctry)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ast</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="AstManager.html" title="SheepAst::AstManager (class)">AstManager</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>mfctry</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MatchFactory.html" title="SheepAst::MatchFactory (class)">MatchFactory</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>afctry</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ActionFactory.html" title="SheepAst::ActionFactory (class)">ActionFactory</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/r_yaginiwa/yang_try/sheep_ast/lib/sheep_ast/syntax/syntax.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_ast'>ast</span><span class='comma'>,</span> <span class='id identifier rubyid_mfctry'>mfctry</span><span class='comma'>,</span> <span class='id identifier rubyid_afctry'>afctry</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@ast</span> <span class='op'>=</span> <span class='id identifier rubyid_ast'>ast</span>
  <span class='ivar'>@mf</span> <span class='op'>=</span> <span class='id identifier rubyid_mfctry'>mfctry</span>
  <span class='ivar'>@af</span> <span class='op'>=</span> <span class='id identifier rubyid_afctry'>afctry</span>
  <span class='ivar'>@action</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="register_syntax-instance_method">
  
    #<strong>register_syntax</strong>(name_or_action = nil, action = nil, &amp;blk)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>please see Example page for further example</p>
</div>
  </div>


<p>Gives user to add Ast definition to handle analysis</p>

<p>rubocop:disable all</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Usage example</p>
</div></p>
      
      <pre class="example code"><code>core.config_ast do |ast, syn|
  syn.within {
    register_syntax(&#39;ast.name&#39;) {
      SS(
        S() &lt;&lt; E(..) &lt;&lt; E(..) &lt;&lt; A(..),
        S() &lt;&lt; ...,,
        S() &lt;&lt; ...
        ...
      )
    }
  }
end</code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>name can be omitted. name is set as ast name in this case.</p>
</div></p>
      
      <pre class="example code"><code>core.config_ast do |ast, syn|
  syn.within {
    register_syntax {
      SS(
        S() &lt;&lt; E(..) &lt;&lt; E(..) &lt;&lt; A(..),
        S() &lt;&lt; ...,,
        S() &lt;&lt; ...
        ...
      )
    }
  }
end</code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>S can receive tag and block, and it can use as variable.</p>
</div></p>
      
      <pre class="example code"><code>core.config_ast do |ast, syn|
  syn.within {
    register_syntax(&#39;ast.name&#39;) {
      S(:example) { S() &lt;&lt; E(..) &lt;&lt; E(..) }
      SS(
        S(:example) &lt;&lt; A(..),
        S(:example) &lt;&lt; ...,
        S(:example) &lt;&lt; ...
        ...
      )
    }
  }
end</code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Action can be aggragated to add. name is OK to be set or not set.</p>
</div></p>
      
      <pre class="example code"><code>core.config_ast do |ast, syn|
  syn.within {
    register_syntax(&#39;ast.name&#39;, A(:na)) {
      SS(
        S() &lt;&lt; E(..) &lt;&lt; E(..),
        S() &lt;&lt; ...,,
        S() &lt;&lt; ...
        ...
      )
    }
  }
end</code></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/r_yaginiwa/yang_try/sheep_ast/lib/sheep_ast/syntax/syntax.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register_syntax'>register_syntax</span><span class='lparen'>(</span><span class='id identifier rubyid_name_or_action'>name_or_action</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_action'>action</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_name_or_action'>name_or_action</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='ivar'>@ast</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_name_or_action'>name_or_action</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_or_action'>name_or_action</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_action'>action</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_action'>action</span> <span class='op'>=</span> <span class='id identifier rubyid_name_or_action'>name_or_action</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_application_error'>application_error</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>it seems that name_or_action is not a String but action is given.</span><span class='tstring_end'>&#39;</span></span>\
          <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> This is a Parameter Error.</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_arrs'>arrs</span> <span class='op'>=</span> <span class='id identifier rubyid_blk'>blk</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_depth'>depth</span><span class='lparen'>(</span><span class='id identifier rubyid_arrs'>arrs</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='id identifier rubyid_arrs'>arrs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_arrs'>arrs</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_arrs'>arrs</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_action'>action</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_arrs'>arrs</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arr'>arr</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_action_'>action_</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_qualifier_'>qualifier_</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_instance_of?'>instance_of?</span> <span class='const'><span class='object_link'><a href="Qualifier.html" title="SheepAst::Qualifier (class)">Qualifier</a></span></span>
        <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_action_'>action_</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_qualifier_'>qualifier_</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_action_'>action_</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="ActionBase.html" title="SheepAst::ActionBase (class)">ActionBase</a></span></span>
        <span class='id identifier rubyid_application_error'>application_error</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>provided syntax mismatch class type =&gt; Action</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_action_'>action_</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_qualifier'>register_qualifier</span><span class='lparen'>(</span><span class='id identifier rubyid_qualifier_'>qualifier_</span><span class='rparen'>)</span>
      <span class='ivar'>@action</span> <span class='op'>=</span> <span class='id identifier rubyid_action_'>action_</span>
      <span class='ivar'>@ast</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_match'>match</span><span class='comma'>,</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_cast'>cast</span><span class='lparen'>(</span><span class='id identifier rubyid_action_'>action_</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="ActionBase.html" title="SheepAst::ActionBase (class)">ActionBase</a></span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>group(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>)-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@action</span> <span class='op'>=</span> <span class='id identifier rubyid_action'>action</span>
    <span class='id identifier rubyid_arrs'>arrs</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arr'>arr</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_arr'>arr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'>#rubocop:disable all
</span>      <span class='ivar'>@ast</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_match'>match</span><span class='comma'>,</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_cast'>cast</span><span class='lparen'>(</span><span class='id identifier rubyid_action'>action</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="ActionBase.html" title="SheepAst::ActionBase (class)">ActionBase</a></span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>group(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>)-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="register_tree-instance_method">
  
    #<strong>register_tree</strong>(*param, **option)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/r_yaginiwa/yang_try/sheep_ast/lib/sheep_ast/syntax/syntax.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register_tree'>register_tree</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_option'>option</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_action'>action</span> <span class='op'>=</span> <span class='id identifier rubyid_option'>option</span><span class='lbracket'>[</span><span class='symbol'>:all_action</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_action'>action</span>
    <span class='id identifier rubyid_register_syntax'>register_syntax</span><span class='lparen'>(</span><span class='id identifier rubyid_action'>action</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
      <span class='id identifier rubyid_param'>param</span>
    <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_register_syntax'>register_syntax</span> <span class='lbrace'>{</span>
      <span class='id identifier rubyid_param'>param</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Jul 14 07:22:35 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.1).
</div>

    </div>
  </body>
</html>